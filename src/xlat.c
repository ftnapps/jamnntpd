#include "nntpserv.h"

uchar IbmToLatin[256] = { 
  0,   1,   0, '?', '?', '?', '?',   0,   0,   9,  10,   0,   0,  13,   0,   0, 
  0,   0,   0,   0, 182, 167,   0,   0,   0,   0,   0,  27,   0,   0,   0,   0, 
' ', '!', '"', '#', '$', '%', '&', '\'','(', ')', '*', '+', ',', '-', '.', '/', 
'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '<', '=', '>', '?', 
'@', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 
'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '[', '\\',']', '^', '_', 
'`', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 
'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '{', '|', '}', '~', 127, 
199, 252, 233, 226, 228, 224, 229, 231, 234, 235, 232, 239, 238, 141, 196, 197, 
201, 230, 198, 244, 246, 242, 251, 249, 255, 214, 220, 162, 163, 165, 'P', 'f', 
225, 237, 243, 250, 241, 209, 170, 186, 191, '?', 172, 189, 188, 141, 171, 187, 
'#', '#', '#', '|', '+', '+', '+', '+', '+', '+', '|', '+', '+', '+', '+', '+', 
'+', '+', '+', '+', '-', '+', '+', '+', '+', '+', '+', '+', '+', '-', '+', '+', 
'+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '#', '#', '#', '#', '#', 
'?', 223, '?', '?', '?', '?', 181, '?', '?', '?', '?', '?', '?', 248, '?', '?', 
'=', 177, '?', '?', '?', '?', 247, '~', 176, 183, 183, '?', '?', 178, 183, ' ' };

uchar LatinToIbm[256] = {
  0,   1,   0,   0,   0,   0,   0,   0,   0,   9,  10,   0,   0,  13,   0,   0, 
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  27,   0,   0,   0,   0, 
' ', '!', '"', '#', '$', '%', '&', '\'','(', ')', '*', '+', ',', '-', '.', '/', 
'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '<', '=', '>', '?', 
'@', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 
'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '[', '\\',']', '^', '_', 
'`', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 
'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '{', '|', '}', '~', 127, 
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 
' ', 173, 155, 156, '?', 157, '|',  21, '"', 'c', 166, 174, 170, '-', 'r', '-', 
248, 241, 253, '3', '\'',230,  20, 249, ',', '1', 167, 175, 172, 171, '?', 168, 
'A', 'A', 'A', 'A', 142, 143, 146, 128, 'E', 144, 'E', 'E', 'I', 'I', 'I', 'I', 
'D', 165, 'O', 'O', 'O', 'O', 153, 'x', 'O', 'U', 'U', 'U', 154, 'Y', 'P', 225, 
133, 160, 131, 'a', 132, 134, 145, 135, 138, 130, 136, 137, 141, 161, 140, 139, 
'?', 164, 149, 162, 147, 'o', 148, 246, 'o', 151, 163, 150, 129, 'y', 'p', 152 };

void latintoibm(uchar *str)
{
   int c;

   for(c=0;str[c];c++)
   {
      if(LatinToIbm[str[c]] == 0) str[c]='?';
      else                        str[c]=LatinToIbm[str[c]];
   }
}

void ibmtolatin(uchar *str)
{
   int c;

   for(c=0;str[c];c++)
   {
      if(IbmToLatin[str[c]] == 0) str[c]='?';
      else                        str[c]=IbmToLatin[str[c]];
   }
}
